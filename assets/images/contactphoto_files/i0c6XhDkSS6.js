if (self.CavalryLogger) { CavalryLogger.start_js(["iPaiT"]); }

__d("PokeCSSConfig",[],(function(a,b,c,d,e,f){e.exports={area:"poke_area",live_new:"poke_live_new",live_empty:"poke_live_empty",live_item:"poke_live_item_",option:"poke_option",option_sigil:"PokeOptionSigil"}}),null);
__d("UFIAddCommentController",["Parent","PrivateCommentsConfig","React","ReactDOM","UFIAddComment.react","UFIAddCommentActionType","UFIAsyncWrapper","UFICallbackStore","UFICommentEditIDStore","UFIDispatcher","UFIDispatcherContext.react","UFIFeedbackContext.react","UFINewCommentNotifier"],(function(a,b,c,d,e,f){"use strict";__p&&__p();g.factory=function(a,b){b.rootid=a.id;return new g(a,Object.freeze(b))};function g(a,c){this.renderAddComment=function(a,c){return this.$5!==null||!c||!c.cancomment||!c.actorforpost?null:b("React").createElement(b("UFIAddComment.react"),{viewerActorID:c.actorforpost,targetID:c.ownerid,targetName:c.actorname,groupID:c.grouporeventid,initialData:null,ref:null,withoutSeparator:!1,editingComment:{},isEditing:!1,allowLiveVideoCommentReplyMode:!0,mentionsDataSource:c.mentionsdatasource,showSendOnEnterTip:c.showsendonentertip,peopleOutsideCommunityInCommentNotice:c.peopleoutsidecommunityincommentnotice,allowPhotoAttachments:c.allowphotoattachments&&!a.islivestreaming,allowVideoAttachments:c.allowvideoattachments&&!a.islivestreaming,allowFileAttachments:c.allowfileattachments&&!a.islivestreaming,allowStickerAttachments:c.allowstickerattachments&&(!a.islivestreaming||c.allowLiveVideoStickerAttachments),allowCustomStickerAttachments:c.allowgaminglivestreamcustomstickers,allowGifAttachments:c.allowgifattachments&&(!a.islivestreaming||c.allowgaminglivestreamgifattachments),allowNativeTipJar:c.isnativetipjarenabled,tipJarModule:c.tipjarmodule,allowFlexibleTipping:c.isflexibletippingenabled,flexibleStarsModule:c.flexiblestarsmodule,allowTogglePrivateComments:(b("PrivateCommentsConfig").composer_lock_enabled||b("PrivateCommentsConfig").composer_unlocked_lock_enabled)&&c.canviewercommentinprivate,privateCommentTarget:c.actorname,contextArgs:a,feedback:c,subtitle:c.subtitle,commentsTargetID:c.commentstargetfbid,allowCommentMarkdown:a.allowcommentmarkdown})}.bind(this),this.$1=a,this.$2=c,this.$3=new(b("UFIDispatcher"))(),this.$4={UFICallbackStore:new(b("UFICallbackStore"))(this.$3)},this.$4.UFICallbackStore.on(b("UFIAddCommentActionType").SUBMIT_NEW,function(c){return b("UFINewCommentNotifier").onNewComment(b("Parent").byTag(a,"form"),this.$2,c.comment,c.target,c.replyCommentID,c.timestamp)}.bind(this)),this.$5=b("UFICommentEditIDStore").getForInstance(this.$2.instanceid),b("UFICommentEditIDStore").addListener(function(){var a=b("UFICommentEditIDStore").getForInstance(this.$2.instanceid);a!=this.$5&&(this.$5=a,this.render())}.bind(this)),this.render()}g.prototype.render=function(){var a=b("React").createElement(b("UFIDispatcherContext.react"),{dispatcher:this.$3,stores:this.$4},b("React").createElement(b("UFIFeedbackContext.react"),{contextArgs:this.$2,render:this.renderAddComment}));b("ReactDOM").render(b("React").createElement(b("UFIAsyncWrapper"),null,a),this.$1)};g.prototype.disable=function(){this.$4.UFICallbackStore.remove()};e.exports=g}),null);
__d("GamesVideoStreamerHubComments",["csx","Arbiter","DOM","SubscriptionsHandler","UFIInstanceActionType","UFIOrderingModeStore","UFISharedDispatcher","UFIUIEvents","queryThenMutateDOM"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=150;function a(a){this.$4=a.instanceID,this.$3=a.commentContainer,this.$1=!1,this.$2=new(b("SubscriptionsHandler"))(),this.$2.addSubscriptions(b("Arbiter").subscribe(b("UFIUIEvents").Changed,function(){this.$5()}.bind(this))),b("UFISharedDispatcher").register(function(a){a.type===b("UFIInstanceActionType").CHANGE_ORDER_MODE&&this.$6()}.bind(this)),this.$6(),this.$5()}a.prototype.$5=function(){var a,c=null;b("queryThenMutateDOM")(function(){var d=b("DOM").scry(this.$3,"._j6a");c=d?d[0]:null;c&&(a=c.scrollHeight-c.offsetHeight-c.scrollTop)}.bind(this),function(){if(c===null||b("UFIOrderingModeStore").getOrderingMode(this.$4)!=="live_streaming")return;(!this.$1||a<=h)&&(this.$1=!0,c.scrollTop=c.scrollHeight)}.bind(this))};a.prototype.$6=function(){this.$3.scrollTop=0,this.$1=!1,this.$5()};e.exports=a}),null);
__d("StreamerHubController",["Style"],(function(a,b,c,d,e,f){"use strict";var g=function(a){var c=document.getElementById("pagelet_bluebar"),d="0px";c&&(d=b("Style").get(c,"height"));b("Style").set(a,"height","calc(100vh - "+d+")")};e.exports={init:function(a){g(a)}}}),null);
__d("TagTypeaheadView",["AsyncRequest","ContextualTypeaheadView","CSS","DOM","FamilyTaggingConfig","Parent"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("ContextualTypeaheadView"));g=c&&c.prototype;function a(a,b){"use strict";g.constructor.call(this,a,b),this.hintText=b.hintText,this.userEd=b.userEd,this.origAutoSelect=b.autoSelect,this.setSuggestions(b.suggestions)}a.prototype.init=function(){"use strict";b("CSS").addClass(this.element,"uiTagTypeaheadView"),g.init.call(this)};a.prototype.buildResults=function(a){"use strict";__p&&__p();!this.value&&this.hintText&&a.unshift({subtext:this.hintText,type:"hintText"});this.userEd&&(new(b("AsyncRequest"))().setURI("/ajax/fof/user_education.php").setData({increment:1}).send(),a.unshift({subtext:this.userEd,type:"userEdText"}));if(b("FamilyTaggingConfig").gk){var c=[],d=[];for(var e=0;e<a.length;e++)a[e].type!=="family_tags"&&a[e].index!=-1e3&&a[e].type!=="hintText"?c.push(a[e]):d.push(a[e]);a=d.concat(c);g.updateResults.call(this,a)}e=g.buildResults.call(this,a);this.userEd&&a.shift();this.value||a.shift();return e};a.prototype.show=function(){"use strict";var a=b("DOM").scry(this.context,".typeaheadBackdrop");a.length>0&&b("CSS").addClass(a[0],"resultsPresent");return g.show.call(this)};a.prototype.hide=function(){"use strict";var a=b("DOM").scry(this.context,".typeaheadBackdrop");a.length>0&&b("CSS").removeClass(a[0],"resultsPresent");return g.hide.call(this)};a.prototype.render=function(a,b,c){"use strict";this.autoSelect=this.origAutoSelect&&a.length,this.disableAutoSelect=a.length===0,b=b.concat(this.getAdditionalResults()),g.render.call(this,a,b,c)};a.prototype.getItems=function(){"use strict";var a=g.getItems.call(this);this.value||a.shift();this.userEd&&a.shift();return a};a.prototype.getSuggestions=function(){"use strict";return this.suggestions};a.prototype.setSuggestions=function(a){"use strict";this.suggestions=a?a.map(String):[],this.visible=!!this.suggestions.length};a.prototype.addSuggestion=function(a){"use strict";this.suggestions.unshift(a)};a.prototype.addTypeaheadFlip=function(a){"use strict";b("CSS").addClass(this.element,a)};a.prototype.removeTypeaheadFlip=function(a){"use strict";b("CSS").removeClass(this.element,a)};a.prototype.getContext=function(){"use strict";var a=b("Parent").byClass(this.element,"typeaheadContainer");if(a)return a;else return g.getContext.call(this)};a.prototype.getAdditionalResults=function(){"use strict";return[]};e.exports=a}),null);
__d("NoTrucatingCompactTypeaheadRenderer",["CompactTypeaheadRenderer"],(function(a,b,c,d,e,f){function a(a,c){return b("CompactTypeaheadRenderer")(a,c)}a.className="noTrucating compact";e.exports=a}),null);
__d("XPokeLiveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pokes/live/",{poke_source:{type:"Int",required:!0}})}),null);
__d("PokeUtility",["CSS","PokeCSSConfig","XPokeLiveController","ge"],(function(a,b,c,d,e,f){__p&&__p();var g={};e.exports.shouldActOn=function(a,b){__p&&__p();if(!a||!b)return!1;if(!(a in g)){g[a]={poke_time:!0};return!0}if(!(b in g[a])){g[a][b]=!0;return!0}return!1};e.exports.getLivePokeURI=function(a){return b("XPokeLiveController").getURIBuilder().setInt("poke_source",a).getURI()};e.exports.hideExistingLivePoke=function(a){var c=b("ge")(b("PokeCSSConfig").live_empty);c&&b("CSS").hide(c);c=b("ge")(b("PokeCSSConfig").live_item+a);c&&b("CSS").hide(c)}}),null);
__d("XPokeDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pokes/dialog/",{do_confirm:{type:"Bool",defaultValue:!1},poke_target:{type:"Int"},__asyncDialog:{type:"Int"}})}),null);
__d("Poke",["Arbiter","AsyncRequest","ChannelConstants","PokeUtility","XPokeDialogController"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c){a=c.obj.poke_source;c=c.obj.poke_time;if(!b("PokeUtility").shouldActOn(a,c))return;c=b("PokeUtility").getLivePokeURI(a);new(b("AsyncRequest"))().setURI(c).send();b("PokeUtility").hideExistingLivePoke(a)}e.exports.init=function(a){b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("live_poke"),g),a.getView().subscribe("afterSelect",function(){var c=a.getCore().getHiddenValue();if(c!==""){c=b("XPokeDialogController").getURIBuilder().setInt("poke_target",c).getURI();new(b("AsyncRequest"))().setURI(c).setNectarModuleDataSafe(a.getView().getElement()).send();a.getCore().reset()}return!0})}}),null);
__d("ClearableTypeahead",["Event"],(function(a,b,c,d,e,f){a={resetOnCloseButtonClick:function(a,c){b("Event").listen(c,"click",function(){var b=a.getCore();b.getElement().focus();b.reset()})}};e.exports=a}),null);
__d("TypeaheadHintText",["emptyFunction"],(function(a,b,c,d,e,f){function a(a){"use strict";this._typeahead=a}a.prototype.enable=function(){"use strict";this._typeahead.getCore().resetOnKeyup=!1};Object.assign(a.prototype,{disable:b("emptyFunction")});e.exports=a}),null);
__d("legacy:HintTextTypeaheadBehavior",["TypeaheadHintText"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.hintText=function(a){a.enableBehavior(b("TypeaheadHintText"))}}),3);
__d("TypeaheadSetPhotoOnSelect",["CSS","DOM","Event"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._typeahead=a}a.prototype.enable=function(){"use strict";__p&&__p();var a=b("DOM").scry(this._typeahead.getElement(),".photo")[0];if(a){if(!b("DOM").isNodeOfType(a,"img")){var c=b("DOM").create("img",{className:a.className});b("DOM").replace(a,c);a=c}var d=b("CSS").hide.bind(null,a);c=b("CSS").show.bind(null,a);this._eventListener=b("Event").listen(a,{load:c,error:d,abort:d});this._subscription=this._typeahead.subscribe("select",function(b,c){b=c.selected.photo||this._typeahead.view.fallbackPhoto;b?a.setAttribute("src",b):d()}.bind(this))}};a.prototype.disable=function(){"use strict";this._eventListener.remove(),this._eventListener=null,this._typeahead.unsubscribe(this._subscription),this._subscription=null};Object.assign(a.prototype,{_eventListener:null,_subscription:null});e.exports=a}),null);
__d("legacy:SetPhotoOnSelectTypeaheadBehavior",["TypeaheadSetPhotoOnSelect"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.setPhotoOnSelect=function(a){a.enableBehavior(b("TypeaheadSetPhotoOnSelect"))}}),3);